```javascript /** * Checks if a number is prime and returns its factors if it's not. * * @param {number} num The number to check. Must be an integer greater than 1. * @returns {string|number[]} Returns "Prime" if the number is prime. Otherwise, returns an array of its prime factors. Throws an error for invalid input. * @throws {Error} If input is not a valid integer greater than 1. */ function isPrimeOrFactors(num) { // Error Handling for invalid input if (!Number.isInteger(num) || num <= 1) { throw new Error("Input must be an integer greater than 1."); } // Optimization: Check for divisibility by 2 separately if (num === 2) return "Prime"; //2 is a prime number if (num % 2 === 0) return [2, ...getPrimeFactors(num / 2)]; //Check for divisibility from 3 to square root of num. for (let i = 3; i <= Math.sqrt(num); i += 2) { if (num % i === 0) return getPrimeFactors(num); } return "Prime"; } /** * Helper function to find all prime factors of a number. * * @param {number} num The number to factorize. * @returns {number[]} An array of prime factors. */ function getPrimeFactors(num) { const factors = []; // Divide by 2 until odd while (num % 2 === 0) { factors.push(2); num /= 2; } // Iterate through odd numbers starting from 3 for (let i = 3; i <= Math.sqrt(num); i += 2) { while (num % i === 0) { factors.push(i); num /= i; } } // If num is still greater than 2, it's a prime factor if (num > 2) factors.push(num); return factors; } // Test cases console.log(isPrimeOrFactors(2)); // Output: Prime console.log(isPrimeOrFactors(7)); // Output: Prime console.log(isPrimeOrFactors(15)); // Output: [3, 5] console.log(isPrimeOrFactors(28)); // Output: [2, 2, 7] console.log(isPrimeOrFactors(999)); //Output: [3, 3, 3, 37] console.log(isPrimeOrFactors(1000)); // Output: [2, 2, 2, 5, 5, 5] //Error Handling test cases //console.log(isPrimeOrFactors(1)); // throws error: Input must be an integer greater than 1. //console.log(isPrimeOrFactors(0)); // throws error: Input must be an integer greater than 1. //console.log(isPrimeOrFactors(-5)); // throws error: Input must be an integer greater than 1. //console.log(isPrimeOrFactors(3.14)); // throws error: Input must be an integer greater than 1. ```